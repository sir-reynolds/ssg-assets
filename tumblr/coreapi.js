/**
 * Category       : AE core api
 * Author         : @TheGreatSpammer
 * Author Profile : https://t.me/TheGreatSpammer
 */
 var head_element=document.head||document.getElementsByTagName("head")[0],copyrightElem=document.getElementById("the_copyright"),canonicalHref=window.location.href.replace("&m=1&","").replace("&m=1","").replace("?m=1&","").replace("?m=1","");function randNum(e){return x=Math.random().toString(),x=x.substring(19-e,19),x}function randStr(e){return str=window.location.hostname,str+=Math.random().toString(),str=window.btoa(str),strlen=str.length,str=str.substring(strlen-e,strlen),str}function shuffle(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}function set_meta(e,t){var a,n=document.head||document;return e.includes(":")?((a=n.querySelector('meta[property="'+e+'"]')??n.querySelector('meta[name="'+e+'"]'))||((a=document.createElement("meta")).setAttribute("property",e),(document.head||document.getElementsByTagName("head")[0]).appendChild(a)),void a.setAttribute("content",t)):((a=n.querySelector('meta[name="'+e+'"]'))||((a=document.createElement("meta")).setAttribute("name",e),(document.head||document.getElementsByTagName("head")[0]).appendChild(a)),void a.setAttribute("content",t))}function addLinkrel(e,t){var a=(document.head||document).querySelector('link[rel="'+e+'"]');a||((a=document.createElement("link")).setAttribute("rel",e),a.setAttribute("href",t),head_element.appendChild(a)),a.setAttribute("href",t)}function insertHtml(e,t){document.getElementById(e).innerHTML=t}function schema(){(1==schema_recipe&&1==schema_products||0==schema_recipe&&0==schema_products)&&(schema_recipe=!1,schema_products=!0);var e=window.location.origin+"/??"+Math.floor(403974*Math.random()+1),t=window.location.origin+"/??"+Math.floor(403974*Math.random()+1);if(1==schema_recipe)var a=[{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":e,name:Breadcrumb1}},{"@type":"ListItem",position:2,item:{"@id":t,name:Breadcrumb2}}]},{"@context":"https://schema.org","@type":"Recipe",author:window.location.hostname,name:document.title,datePublished:(new Date).toISOString().slice(0,10),description:document.title,image:"https://i2.wp.com/ae01.alicdn.com/kf/"+Params.img,interactionStatistic:{"@type":"InteractionCounter",interactionType:"https://schema.org/Comment",userInteractionCount:randNum(4)},aggregateRating:{"@type":"AggregateRating",ratingValue:"5",ratingCount:randNum(5)}}];else if(1==schema_products)a=[{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":e,name:Breadcrumb1}},{"@type":"ListItem",position:2,item:{"@id":t,name:Breadcrumb2}}]},{"@context":"https://schema.org","@type":"Product",aggregateRating:{"@type":"AggregateRating",ratingValue:"4",reviewCount:randNum(6)},sku:Params.id,description:document.title,name:document.title,image:"https://i2.wp.com/ae01.alicdn.com/kf/"+Params.img,offers:{"@type":"Offer",url:canonicalHref,availability:"https://schema.org/InStock",itemCondition:"http://schema.org/NewCondition",price:Params.price.replace("US $",""),priceValidUntil:"2098-12-31",priceCurrency:"USD"},brand:{"@type":"Brand",name:window.location.hostname}}];else a=[{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":e,name:Breadcrumb1}},{"@type":"ListItem",position:2,item:{"@id":t,name:Breadcrumb2}}]}];var n=document.createElement("script");n.type="application/ld+json",n.textContent=JSON.stringify(a),head_element.appendChild(n)}function custom_header(){addLinkrel("canonical",canonicalHref);for(var e=0;e<css_tpl.length;e++)addLinkrel("stylesheet",css_tpl[e]);"products"==Params.type?(CUSTOM_PRODUCTS_TITLE=CUSTOM_PRODUCTS_TITLE.replace(/\[price\]/g,Params.price).replace(/\[title\]/g,Params.title).replace(/\[productId\]/g,Params.id).replace(/\[domain\]/g,window.location.hostname).replace(/\[random\]/g,randStr(7)),CUSTOM_PRODUCTS_DESC=CUSTOM_PRODUCTS_DESC.replace(/\[price\]/g,Params.price).replace(/\[title\]/g,Params.title).replace(/\[productId\]/g,Params.id).replace(/\[domain\]/g,window.location.hostname).replace(/\[random\]/g,randStr(7)),document.title=CUSTOM_PRODUCTS_TITLE,set_meta("og:title",CUSTOM_PRODUCTS_TITLE),set_meta("twitter:title",CUSTOM_PRODUCTS_TITLE),set_meta("description",CUSTOM_PRODUCTS_DESC),set_meta("og:description",CUSTOM_PRODUCTS_DESC),set_meta("twitter:description",CUSTOM_PRODUCTS_DESC),set_meta("robots",CUSTOM_PRODUCTS_METAROBOTS),insertHtml("the_page_title",CUSTOM_PRODUCTS_TITLE),schema()):"pages"==Params.type?(CUSTOM_PAGES_TITLE=CUSTOM_PAGES_TITLE.replace(/\[pageNum\]/g,Params.currentPage).replace(/\[domain\]/g,window.location.hostname).replace(/\[random\]/g,randStr(8)),CUSTOM_PAGES_DESC=CUSTOM_PAGES_DESC.replace(/\[pageNum\]/g,Params.currentPage).replace(/\[domain\]/g,window.location.hostname).replace(/\[random\]/g,randStr(8)),document.title=CUSTOM_PAGES_TITLE,set_meta("og:title",CUSTOM_PAGES_TITLE),set_meta("twitter:title",CUSTOM_PAGES_TITLE),set_meta("description",CUSTOM_PAGES_DESC),set_meta("og:description",CUSTOM_PAGES_DESC),set_meta("twitter:description",CUSTOM_PAGES_DESC),set_meta("robots",CUSTOM_PAGES_METAROBOTS),insertHtml("the_page_title",CUSTOM_PAGES_TITLE)):(CUSTOM_INDEX_TITLE=CUSTOM_INDEX_TITLE.replace(/\[domain\]/g,window.location.hostname).replace(/\[random\]/g,randStr(9)),CUSTOM_INDEX_DESC=CUSTOM_INDEX_DESC.replace(/\[domain\]/g,window.location.hostname).replace(/\[random\]/g,randStr(9)),document.title=CUSTOM_INDEX_TITLE,set_meta("og:title",CUSTOM_INDEX_TITLE),set_meta("twitter:title",CUSTOM_INDEX_TITLE),set_meta("description",CUSTOM_INDEX_DESC),set_meta("og:description",CUSTOM_INDEX_DESC),set_meta("twitter:description",CUSTOM_INDEX_DESC),set_meta("robots",CUSTOM_INDEX_METAROBOTS),insertHtml("the_page_title",CUSTOM_INDEX_TITLE)),set_meta("viewport","width=device-width, initial-scale=1"),set_meta("og:url",canonicalHref),insertHtml("site_name",'<a href="/">'+window.location.hostname+"</a>")}function callback_archive(e){if(e){for(var t="",a=0,n="",r="",i="",o="",c="",m="<p>",s=0;s<e.length;s++)a++,n=e[s].imageUrl,r=e[s].productId,i=e[s].productTitle,c=e[s].salePrice,o=e[s].permalink,t+=loop_tpl_view.replace(/\[permalink\]/g,o).replace(/\[price\]/g,c).replace(/\[title\]/g,i).replace(/\[image\]/g,n).replace(/\[productId\]/g,r).replace(/\[counter\]/g,a),m+=i+" ",s>=1&&s%10==0&&(m+="</p><p>");m+="</p>","products"==Params.type&&insertHtml("the_content",m),insertHtml(loop_tpl_id,t)}else insertHtml(loop_tpl_id,"No Result")}var Params=function(e){if(""==e)return(e={}).type="index",e.currentPage=1,e;var t={};if(e.length>2)t.type="products",t.id=e[0],t.img=e[1],t.title=e[2].replace(/-/g," "),t.price="US $"+e[3],t.currentPage=Math.floor(403974*Math.random()+1);else if(t.type="pages",t.currentPage=parseInt(e[0]),isNaN(t.currentPage))return void(window.location.href="/");return t}(window.location.search.substr(2).split(",,,"));"products"==Params.type&&[".google.","bing.","yandex.","facebook.","pinterest.","yahoo."].some((e=>document.referrer.toLowerCase().includes(e)))&&Params.id&&""!=AFF_DOMAIN&&!1===DEMO&&!1===["bot","google","bing","msn","yandex","pagespeed","lighthouse","http"].some((e=>navigator.userAgent.toLowerCase().includes(e)))&&(window.location.href="https://"+AFF_DOMAIN+"/??"+Params.id+",,,"+window.location.hostname),function(){if(copyrightElem){if(custom_header(),"products"==Params.type&&!0===enable_custom_content&&tpl_custom_content_html.length>0&&""!=tpl_custom_content_id&&null!=(custom_content_elem=document.getElementById(tpl_custom_content_id))&&(shuffle(tpl_custom_content_html),tpl_custom_content_html=tpl_custom_content_html.join("").replace(/\[title\]/g,document.title).replace(/\[domain\]/g,window.location.hostname).replace(/\[image\]/g,"https://i2.wp.com/ae01.alicdn.com/kf/"+Params.img),custom_content_elem.innerHTML=tpl_custom_content_html),copyrightElem.innerHTML="&copy; 2020 / @TheGreatSpammer","products"!=Params.type&&"undefined"!=typeof pagination_tpl_id&&"undefined"!=typeof pagination_tpl_view&&""!=pagination_tpl_id&&""!=pagination_tpl_view){var e=(prevN=Params.currentPage-1)<2?"/":"/??"+prevN,t=(nextN=Params.currentPage+1)<403974?"/??"+nextN:"/",a=pagination_tpl_view.replace("[prev_url]",e).replace("[next_url]",t);document.getElementById(pagination_tpl_id).innerHTML=a}var n=document.createElement("script");n.type="text/javascript",n.src="https://jsonp-bot-cache.staticapis.cyou/AEX/22des2020-js-paging?page="+Params.currentPage,(document.body||document.getElementsByTagName("body")[0]).appendChild(n)}else alert("the_copyright id not exists")}();
